!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.MiniMessage=t():e.MiniMessage=t()}(this,(()=>(()=>{"use strict";var e={587:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.componentToHTML=function(e,t,r,n){let o=!1;void 0!==r?(o=!0,void 0===n&&(n=e=>document.createElement(e))):void 0===n&&(n=()=>({innerText:"",style:{},setAttribute(e,t){},appendChild(e){}}));const s=new i.StringBuilder;return u(e,t,s,o,r,n),s.toString()};const n=r(753),i=r(612),o=r(461),s=r(693),a=r(806),l=r(695),c=/%(%|(?:(\d+)\$)?s)/g;function u(e,t,r,i,h,d){var p,g,A;const f=d("span");r.appendLeftAngleBracket().appendString("span");let v=!1;!function(e,t,r,n){let i=e.getProperty("color");i&&(n(),i=o.ColorTagResolver.mapColor(i),t.appendString("color: ").appendString(i).appendSemicolon(),r.style.color=i);let s=!1,a=!0;function l(i,o,l,c){const u=e.getProperty(i);void 0!==u&&(u?(a=!1,n(),t.appendString(o).appendSemicolon(),r.style[l]=c):s=!0)}l("bold","font-weight: bold","fontWeight","bold"),l("italic","font-style: italic","fontStyle","italic"),l("underlined","text-decoration: underline","textDecoration","underline"),l("strikethrough","text-decoration: line-through","textDecoration","line-through"),s&&a&&(n(),t.appendString("font-weight: normal; text-decoration: none; filter: none;"),r.style.fontWeight="normal",r.style.textDecoration="none")}(t,r,f,(()=>{v?r.appendSpace():(r.appendString(' style="'),v=!0)})),v&&r.append('"'),function(e,t,r){function n(n){const i=e.getProperty(n);if(void 0===i)return;const o="data-mm-"+n.replace(/[A-Z]/g,(e=>String.fromCharCode(45,e.charCodeAt(0)+32))),s=JSON.stringify(i);t.appendSpace().append(o).append('="').append(s.replace(/["']/g,(e=>`\\${e}`))).append('"'),r.setAttribute(o,s)}const i=["obfuscated","clickEvent","hoverEvent","keybind","translate","with","selector","score","insertion","font","nbt","block","entity","storage","interpret","separator"];for(let e of i)n(e)}(t,r,f),r.appendRightAngleBracket();const y=t.getProperty("text");y&&(f.innerText=y,r.appendString(y));const C=t.getProperty("keybind");if(C){const t=(0,a.renderDefaultKeybindHTML)(C,e);f.innerText=t,r.appendString(t),null===(p=f.classList)||void 0===p||p.add("mm-keybind")}const m=t.getProperty("translate");if(m){let n=t.getProperty("with");void 0===n&&(n=[]);let o=e.translations[m];if(o){o=o.replace(c,((e,t,r)=>{if("%"===t)return"%";let i=0;return t.length>1&&(i=parseInt(r)-1),i<0||i>=n.length?e:n[i]}));const t=e.deserialize(o);u(e,t,r,i,f,d)}}const T=t.getProperty("extra");if(T)for(let o of T)if("string"==typeof o){const e=d("span");e.innerText=o,f.appendChild(e),r.appendString(o)}else{const s=new n.Component(o);t.getProperty("color")&&!s.getProperty("color")&&s.setProperty("color",t.getProperty("color"));for(const e of["bold","italic","underlined","strikethrough","obfuscated"])t.getProperty(e)&&!s.getProperty(e)&&s.setProperty(e,t.getProperty(e));u(e,s,r,i,f,d)}const b=t.getProperty("player");if(b){const e=null===(g=t.getProperty("hat"))||void 0===g||g;let r;if("string"==typeof b?r=b:"id"in b?r=(0,l.intArrayToUUID)(b.id):"texture"in b&&(r=b.texture),r){const n=(0,l.getHeadElement)(r,e);null===(A=f.classList)||void 0===A||A.add("mm-head");const i=t.getProperty("color");if(i){const e=o.ColorTagResolver.mapColor(i),t=new Image;t.crossOrigin="anonymous",t.src=n.src,t.onload=()=>{const r=document.createElement("canvas");r.width=t.width,r.height=t.height;const i=r.getContext("2d");i.drawImage(t,0,0),i.globalCompositeOperation="multiply",i.fillStyle=e,i.fillRect(0,0,r.width,r.height),n.src=r.toDataURL()}}f.appendChild(n)}}r.appendString("</span>"),i&&(h.appendChild(f),!0===t.getProperty("obfuscated")&&setTimeout((()=>{(0,s.bindObfuscatedText)(f,(()=>{}))}),1))}},753:(e,t)=>{var r;function n(e,t){let r=0;if("string"==typeof e.text&&(r+=e.text.length),t)return r;const i=e.extra;if(!i)return r;for(let e of i)r+="string"==typeof e?e.length:n(e,!1);return r}Object.defineProperty(t,"__esModule",{value:!0}),t.Component=t.ComponentDecorationState=t.ComponentHoverEventActions=t.ComponentClickEventActions=void 0,t.ComponentClickEventActions=["change_page","copy_to_clipboard","open_file","open_url","run_command","suggest_command"],t.ComponentHoverEventActions=["show_text","show_item","show_entity"],function(e){e[e.UNSET=-1]="UNSET",e[e.FALSE=0]="FALSE",e[e.TRUE=1]="TRUE"}(r||(t.ComponentDecorationState=r={}));class i{static setContextFor(e,t){this.SYMBOL_CONTEXT in e?e[this.SYMBOL_CONTEXT]=t:Object.defineProperty(e,this.SYMBOL_CONTEXT,{value:t,configurable:!0,enumerable:!1,writable:!0})}static getContextFor(e){return this.SYMBOL_CONTEXT in e?e[this.SYMBOL_CONTEXT]:null}static text(e){return new i({text:e})}static empty(){return new i}constructor(e={}){this.primitive=e}get color(){return this.primitive.color}set color(e){this.primitive.color=e}setColorIfUnset(e){"color"in this.primitive||(this.primitive.color=e)}setColorByPlacement(e){const t=this.contentLength();t<2?this.setProperty("color",e(0)):this.setColorByPlacement0(e,0,t)}setColorByPlacement0(e,t,r){let o=[],s=[];"string"==typeof this.primitive.text&&0!==this.primitive.text.length&&(o.push(i.text(this.primitive.text)),s.push(this.primitive.text.length),delete this.primitive.text);const a=this.primitive.extra;if(a)for(let e of a)"string"==typeof e?(o.push(i.text(e)),s.push(e.length)):(o.push(new i(e)),s.push(n(e,!1)));let l,c,u=[],h=0;for(let n=0;n<o.length;n++){if(l=o[n],c=s[n],l.isOnlyText()){if(0===c)continue;const n=(l.primitive.text||"").split("");let o=0;for(let s of n){const n=i.text(s);n.color=e((t+h+o++)/(r-1)),u.push(n)}}else"color"in l.primitive||(l.color=e((t+h)/r),0!==c&&l.setColorByPlacement0(e,t+h,r)),u.push(l);h+=c}u.length>0&&(this.primitive.extra=u.map((e=>e.primitive)))}decoration(e){const t=this.primitive[e];return void 0===t?r.UNSET:t?r.TRUE:r.FALSE}decorate(e,t=!0){return this.primitive[e]=t,this}getProperty(e){return this.primitive[e]}setProperty(e,t){this.primitive[e]=t}appendChild(e){let t;if("object"==typeof e)if(e.isOnlyText()){if(!e.primitive.text)return this;t=e.primitive.text}else t=e.primitive;else t=e;return"string"==typeof t&&this.isEmpty()?(this.setProperty("text",t),this):(this.primitive.extra?this.primitive.extra.push(t):this.primitive.extra=[t],this)}isEmpty(){return 0===Object.getOwnPropertyNames(this.primitive).length}isOnlyText(){let e;for(let t of Object.getOwnPropertyNames(this.primitive))if(e=this.primitive[t],void 0!==e&&"function"!=typeof e&&"text"!==t)return!1;return!0}contentLength(e=!1){return n(this.primitive,e)}collapseUnnecessaryEnclosures(){const e=Object.getOwnPropertyNames(this.primitive);if(1!==e.length||"extra"!==e[0])return;const t=this.getProperty("extra");if(1!==t.length)return;const r=t[0];if("string"==typeof r)delete this.primitive.extra,this.primitive.text=r;else{const e=new i(r);e.collapseUnnecessaryEnclosures(),this.primitive=e.primitive}}getContext(){return i.getContextFor(this.primitive)}setContext(e){i.setContextFor(this.primitive,e);const t=this.getProperty("extra");if(t)for(let r of t)"object"==typeof r&&i.setContextFor(r,e)}toJSON(){return Object.assign({},this.primitive)}}t.Component=i,i.SYMBOL_CONTEXT=Symbol("MiniMessageInstance")},123:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.playerNameRegex=t.uuidRegex=t.notFoundSprite=t.textureSprite=t.errorSprite=t.spinnerAnimation=void 0,t.spinnerAnimation="data:image/gif;base64,R0lGODlhCAAIAPcfAAAAACQAAEgAAGwAAJAAALQAANgAAPwAAAAkACQkAEgkAGwkAJAkALQkANgkAPwkAABIACRIAEhIAGxIAJBIALRIANhIAPxIAABsACRsAEhsAGxsAJBsALRsANhsAPxsAACQACSQAEiQAGyQAJCQALSQANiQAPyQAAC0ACS0AEi0AGy0AJC0ALS0ANi0APy0AADYACTYAEjYAGzYAJDYALTYANjYAPzYAAD8ACT8AEj8AGz8AJD8ALT8ANj8APz8AAAAVSQAVUgAVWwAVZAAVbQAVdgAVfwAVQAkVSQkVUgkVWwkVZAkVbQkVdgkVfwkVQBIVSRIVUhIVWxIVZBIVbRIVdhIVfxIVQBsVSRsVUhsVWxsVZBsVbRsVdhsVfxsVQCQVSSQVUiQVWyQVZCQVbSQVdiQVfyQVQC0VSS0VUi0VWy0VZC0VbS0Vdi0Vfy0VQDYVSTYVUjYVWzYVZDYVbTYVdjYVfzYVQD8VST8VUj8VWz8VZD8VbT8Vdj8Vfz8VQAAqiQAqkgAqmwAqpAAqrQAqtgAqvwAqgAkqiQkqkgkqmwkqpAkqrQkqtgkqvwkqgBIqiRIqkhIqmxIqpBIqrRIqthIqvxIqgBsqiRsqkhsqmxsqpBsqrRsqthsqvxsqgCQqiSQqkiQqmyQqpCQqrSQqtiQqvyQqgC0qiS0qki0qmy0qpC0qrS0qti0qvy0qgDYqiTYqkjYqmzYqpDYqrTYqtjYqvzYqgD8qiT8qkj8qmz8qpD8qrT8qtj8qvz8qgAA/yQA/0gA/2wA/5AA/7QA/9gA//wA/wAk/yQk/0gk/2wk/5Ak/7Qk/9gk//wk/wBI/yRI/0hI/2xI/5BI/7RI/9hI//xI/wBs/yRs/0hs/2xs/5Bs/7Rs/9hs//xs/wCQ/ySQ/0iQ/2yQ/5CQ/7SQ/9iQ//yQ/wC0/yS0/0i0/2y0/5C0/7S0/9i0//y0/wDY/yTY/0jY/2zY/5DY/7TY/9jY//zY/wD8/yT8/0j8/2z8/5D8/7T8/9j8//z8/yH/C05FVFNDQVBFMi4wAwEAAAAh+QQEDQAfACwAAAAACAAIAAAIKwD/CRw4MIGUBEkkJBGYMMlBKf/sGTSY0N6WhgoTbKEoJWFHjA4nPqSYICAAIfkEBQwAAAAsAAAAAAgACAAACCwAWwEYSBBAEoNSEiQEICGhlCQSDiY5WPCfwosP/0EceNGiQ4ZJNBYEIKVVQAAh+QQFDQAAACwAAAAACAAIAAAILAATSEmyxR6AgwAkJEwiIQmABAgfSjk4sKEUiAsjUsSYECFDAB8XbvlH8l9AACH5BAUMAAAALAAAAAAIAAgAAAgqAAEASJCEoJRWAKRIkCKwIYCCDBtKcNgwIkUJSTBiTJhASsaGrf6JdBgQACH5BAUNAAAALAAAAAAIAAgAAAgxAAEkASCFYBIJACQMBMCwIIAEUiAmSLIlSUQpFrfYg3jwoL1/EiMy/HfR4kiGKBkGBAAh+QQFDAAAACwAAAAACAAIAAAILABJSZGQhCDBfwkAKFz4r6BDCQD+GUwipWDDhQqTAJgoJYEUAA8pfsSokFRAACH5BAUNAAAALAAAAAAIAAgAAAgwAP8J/CclQRIJAAAUlFIwicIEABJIORiRIQCEUh4ulAjgYJKNFTl2TAjA3haJCQICACH5BAUNAAAALAAAAAAIAAgAAAgqAAEIBPCvICkAUhIkFCgFgEKECpNAdLiQYhIJSSoOFChxI0VSUjIqVBgQADs=",t.errorSprite="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAIEAYAAACUn2LIAAAAXUlEQVQokWOoqWZgYGD4////f9JomD5GmEBtDQMDAwMDw65dZqZmpgw4gZvbqdOnTjMwNDdB+EwwCZhGmAJcGtEtYEFXiMsgXC5jwhQiDWAYgO5UQl6jOBAZKI1GAIIuc++n6MfuAAAAAElFTkSuQmCC",t.textureSprite="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAIEAYAAACUn2LIAAABuklEQVQokTWPT0iTAQDFf0NEYmoDha9ZuMpWfJC1ENKcdhEpKxMJg2F1sY1UZLCQDW1GRo2vP0YNxFqTag0zL1kHseVhQRBFYHiIQUEdIjr075J4qNfhy+N7j/fPMZgAkIp/er0hE3Zv79zc0AjjQ08XMzFY3rv49Vcf+B4kg8Zf8H0fSLU9g5ITHVn3R3C4ppM5yyMdff6qKvoJym85I805aHo4MV9ogsI6CJdDRci18GUITi5dLF15CWD8ft8HxDMjzqAppXsC+Q1zEoRfXDKlUH1jHqStH+4UP7ogQWQGpNs11UuVZdIOJ6zPSewpsi+MpiHtl3YFOrq7nNJ04IjDcktg6xD5cfqujXcGJF8m+/pGi8T+mdjyZIt0sM3sB+mAB2rfSXDWAMkbuL8WpH110D8spQvxuoYBqfV/MaV/LBOkyaxNjCWqzsdapfEFG6dTh2QvmDVAGvFMqf2aFLfqe+8Nry5Ecj+B41FpYqro6vU10rnOU90uvwSP2+2AoHssJ535BscMqWQlXuHolag0Loer89KV2drExmap683gW9uw+r3GA9KWTYejqW1S8qZVBlLGD6OfpX/h/t4SZ7Q04gAAAABJRU5ErkJggg==",t.notFoundSprite="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAIAAABLbSncAAAAlElEQVQIHWN8OtOd4csPBh4OEAkEEAYPBxNClIfjO9tfuBwTXMn3X1/5HcrZrHJAcgwMTEA+UCFElJ2d/eePb/+NkkCqn5xe+fv3b+UklU+3dn26ewjIAHKBgozvru9gYWYCaWbmYPgLsv/P339AESaQKFCIgeHvvfd/H34HMoAiP3/+ZAGyQAqZOZjlQUyIInZ2BgBAKEbMGOmUsgAAAABJRU5ErkJggg==",t.uuidRegex=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i,t.playerNameRegex=/^[A-Za-z0-9_]{3,16}$/},165:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.McHeadsProvider=t.VzgeProvider=void 0,t.VzgeProvider={name:"vzge",supportsUsername:!0,getUrl(e,t,r){const n=`https://vzge.me/face/${t}/${e}`;return r?n:`${n}?no=helmet`}},t.McHeadsProvider={name:"mc-heads",supportsUsername:!1,getUrl:(e,t,r)=>r?`https://mc-heads.net/avatar/${e}/${t}`:`https://mc-heads.net/avatar/${e}/${t}/nohelm`}},56:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.KEYBIND_TO_LITERAL=t.KEYBIND_TO_TRANSLATABLE=void 0,t.KEYBIND_TO_TRANSLATABLE={"key.jump":"key.keyboard.space","key.sneak":"key.keyboard.left.shift","key.sprint":"key.keyboard.left.control","key.attack":"key.mouse.left","key.use":"key.mouse.right","key.pickItem":"key.mouse.middle","key.playerlist":"key.keyboard.tab","key.fullscreen":"key.keyboard.f11","key.togglePerspective":"key.keyboard.f5","key.spectatorHotbar":"key.mouse.middle","key.screenshot":"key.keyboard.f2"},t.KEYBIND_TO_LITERAL={"key.forward":"W","key.back":"S","key.left":"A","key.right":"D","key.jump":"Space","key.sneak":"Shift","key.sprint":"Control","key.attack":"Left Click","key.use":"Right Click","key.pickItem":"Middle Click","key.drop":"Q","key.inventory":"E","key.swapOffhand":"F","key.hotbar.1":"1","key.hotbar.2":"2","key.hotbar.3":"3","key.hotbar.4":"4","key.hotbar.5":"5","key.hotbar.6":"6","key.hotbar.7":"7","key.hotbar.8":"8","key.hotbar.9":"9","key.loadToolbarActivator":"X","key.saveToolbarActivator":"C","key.chat":"T","key.socialInteractions":"P","key.advancements":"L","key.command":"-","key.spectatorOutlines":"-"}},737:function(e,t){var r=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.BitmapFont=void 0,t.BitmapFont=class{constructor(e,t){for(this.bitmapState={code:0};"parentNode"in e;){let t=e;if("object"!=typeof t.parentNode||null===t.parentNode)break;e=t.parentNode}if(this.document=e,this.data=t,"constructor"in e&&"HTMLDocument"===e.constructor.name){let e=null;if("parentWindow"in this.document)e=this.document.parentWindow;else{const t=this.document.defaultView;null!==t&&(e=t)}if(null!==e)return this.valid=!0,void(this.window=e)}this.valid=!1,this.window=null}get glyphCount(){const[e,t]=this.glyphBounds;return t-e}get canRender(){return this.valid}render(e,t,n){return r(this,void 0,void 0,(function*(){if(!this.canRender)throw new Error("Environment does not support bitmap font rendering");const[r,i]=this.glyphBounds;if(t<0||t>=i-r)throw new Error(`Index ${t} out of bounds for length ${i-r}`);const[o,s]=this.indexToCoords(t+r),a=2===this.bitmapState.code?this.bitmapState.value:yield this.getBitmap(),l=a.naturalWidth/this.getData("GLYPH_WIDTH");e.width=l;const c=a.naturalHeight/this.getData("GLYPH_HEIGHT");e.height=c;const u=e.getContext("2d");if(null===u)throw new Error("Could not retrieve 2D context from HTML canvas");u.globalCompositeOperation="source-over",n?(u.fillStyle=n,u.fillRect(0,0,l,c),u.globalCompositeOperation="destination-in"):u.clearRect(0,0,l,c),u.drawImage(a,o*l,s*c,l,c,0,0,l,c)}))}getBitmap(){switch(this.bitmapState.code){case 0:const e=this.getData("GLYPH_DATA"),t=this.document.createElement("img"),r=new Promise(((r,n)=>{t.addEventListener("load",(()=>r(t))),t.addEventListener("error",n),t.src=e}));return this.bitmapState={code:1,value:r},r.then((()=>{this.bitmapState={code:2,value:t}})),r;case 1:return this.bitmapState.value;case 2:return Promise.resolve(this.bitmapState.value)}}getData(e){return this.data[e]}get glyphBounds(){return[this.getData("GLYPH_START"),this.getData("GLYPH_END")+1]}indexToCoords(e){const t=this.getData("GLYPH_WIDTH"),r=Math.floor(e/t);return[e-r*t,r]}}},693:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.bindObfuscatedText=function e(t,r){const n=(i=t,new a.BitmapFont(i,s));var i;if(!n.canRender)return;if(!("requestAnimationFrame"in n.window))return;const o=t.childNodes;if(0===o.length)return;const c=[],u=[];for(let t=0;t<o.length;t++){const i=o[t],s=e=>c.push(e);i.nodeType!==Node.TEXT_NODE?(i.nodeType===Node.ELEMENT_NODE&&i instanceof HTMLElement&&e(i,r),s(i)):u.push(...l(n,i.textContent||"",s))}"replaceChildren"in t?t.replaceChildren(...c):(t.innerHTML="",t.append(...c));const h=new Array(u.length);for(let e=0;e<u.length;e++)h[e]=n.window.getComputedStyle(u[e]).color;let d=0,p=20;!function e(){const t=n.window.performance.now(),r=t-d;if(r>=p){if(0!==d){const e=Math.pow(Math.min(t/400,1),2);p=r>=1.5*p?p*(1-2*e)+r*e*2:p*(1-e)+20*e}d=t;let i=new Array(u.length);for(let e=0;e<u.length;e++){const t=u[e];if(0===e&&!t.isConnected)return;i[e]=n.render(t,Math.floor(Math.random()*n.glyphCount),h[e])}Promise.all(i).then((()=>{n.window.requestAnimationFrame(e)})).catch(console.error)}else n.window.requestAnimationFrame(e)}()};const s=o(r(968)),a=r(737);function l(e,t,r){const n=new Array(t.length);let i=0;for(let o=0;o<t.length;o++)if(32===t.charCodeAt(o)){const t=e.document.createElement("span");t.innerText="Â ",r(t)}else{const s=e.document.createElement("canvas");s.width=1,s.height=1,s.style.height="0.9em",s.style.width="0.9em",s.style.display="inline",s.style.verticalAlign="bottom",s.style.imageRendering="pixelated","pixelated"!==e.window.getComputedStyle(s).imageRendering&&(s.style.imageRendering="crisp-edges"),s.setAttribute("aria-label",t.charAt(o)),r(s),n[i++]=s}return n.length=i,n}},968:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GLYPH_DATA=t.GLYPH_END=t.GLYPH_START=t.GLYPH_HEIGHT=t.GLYPH_WIDTH=void 0,t.GLYPH_WIDTH=16,t.GLYPH_HEIGHT=16,t.GLYPH_START=65,t.GLYPH_END=90,t.GLYPH_DATA="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACAAQMAAAD58POIAAAABlBMVEX///////9VfPVsAAAAAXRSTlMAQObYZgAAAJZJREFUeNrt0KENAkEUhOFfPrkSOSVQwpNIShq58kpYSRlXCiUgnyThDkIgQSH3l19GDbPZz45y9VLZcl9ucBIYYWvE0iDl1ReVkaNtIHMVvjgkyLYejGS0QyQPsEZkwlpJbeCy+WpocSH60AYCB6KN874oHGepjb5DsAZCb5BRRT7BQQL9BaOWDAqPPv/4+GM2m83+2h36P3cB27HCKAAAAABJRU5ErkJggg=="},156:(e,t,r)=>{const n=r(126),i=r(753),o=r(648),s=r(518),a=r(587);class l{constructor(e,t,r,n,i,o){this.debugCallback=e,this.postProcessor=t,this.preProcessor=r,this.strict=n,this.tags=i,this.translations=o}serialize(e){throw new Error("Not implemented")}deserialize(e){e=this.preProcessor(e);const t=i.Component.empty(),r=new s.MarkupParser,{strict:n,tags:a}=this,l=new s.MarkupStack;function c(e){let r=l.peek();null!==r?r[1].push(e):t.appendChild(e)}function u(e,t){const r=l.pop(e,n,t);if(null===r)return;const[o,s]=r;let a=null;if(s.length>0){let e=s[0];"object"==typeof e&&e.isOnlyText()&&(e=e.getProperty("text")||""),"string"==typeof e&&(a=e,s.splice(0,1))}const u=a?i.Component.text(a):i.Component.empty();for(let e of s)u.appendChild(e);o.apply(u,0),c(u)}let h;for(r.on("start_tag",(e=>{const{name:t,args:r}=e;this.debug(`Parsing tag <${t}> @ ${e.location}`);let i=a.resolve(t,r,this);if(null!==i)switch(this.debug(`- Resolved: ${o.TagType[i.type]}`),i.type){case o.TagType.INSERT:c(i.value);break;case o.TagType.MODIFY:l.push(t,[i,[]]);break;case o.TagType.DIRECTIVE:if(n)throw new Error("Strict mode does not allow directives ("+o.TagDirective[i.directive]+")");if(i.directive!==o.TagDirective.RESET)throw new Error("Unknown directive ID "+i.directive);let e;for(;null!==(e=l.peekTag());)u(e)}else{if(n)throw new Error(`No resolver for <${t}> tag @ ${e.location}`);this.debug(`- No resolver for <${t}>`);const r={type:o.TagType.MODIFY,apply:e=>e};l.push(t,[r,[]])}})),r.on("end_tag",(e=>{this.debug(`Parsing tag </${e.name}> @ ${e.location}`),u(e.name,e.location)})),r.on("text",(e=>{this.debug(`Parsing text ${e.content} @ ${e.location}`),c(e.content)})),r.parse(e),r.flush();null!==(h=l.peekTag());){if(n)throw new Error(`Tag <${h}> was never closed`);u(h)}return t.collapseUnnecessaryEnclosures(),t.setContext(this),this.postProcessor(t)}toHTML(e,t,r){return(0,a.componentToHTML)(this,e,t,r)}debug(e){if(null!==this.debugCallback)try{this.debugCallback(e)}catch(e){console.error("Error in debug callback",e)}}}class c{constructor(){this._debugCallback=null,this._postProcessor=e=>e,this._preProcessor=e=>e,this._strict=!1,this._tags=n.StandardTags.defaults(),this._translations={}}build(){return new l(this._debugCallback,this._postProcessor,this._preProcessor,this._strict,this._tags,this._translations)}debug(e){return this._debugCallback=e,this}postProcessor(e){return this._postProcessor=e,this}preProcessor(e){return this._preProcessor=e,this}strict(e){return this._strict=e,this}tags(e){return this._tags=e,this}translations(e){return Object.assign(this._translations,e),this}}const u=(new c).build(),h={tags:n.StandardTags,miniMessage:()=>u,builder:()=>new c,toHTML:(e,t,r)=>(0,a.componentToHTML)(e.getContext(),e,t,r)};e.exports=h},324:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ArgumentQueue=t.Argument=void 0;const n=r(241);class i{constructor(e){this.value=e}get lowerValue(){return this.value.toLowerCase()}asNumber(){return n.Optional.ofNaNable(parseFloat(this.value))}asInt(){return n.Optional.ofNaNable(parseInt(this.value))}isTrue(){switch(this.lowerValue){case"true":case"1":case"yes":case"on":return!0;case"false":case"0":case"no":case"off":return!1;default:return!!this.value}}isFalse(){return!this.isTrue()}}t.Argument=i;class o{constructor(e){this.head=0,this.data=e}reset(){this.head=0}hasNext(){return this.head<this.data.length}peek(){return this.hasNext()?this.pop0(!0):null}pop(){if(!this.hasNext())throw new Error("Cannot pop ArgumentQueue (no more data)");return this.pop0(!1)}pop0(e){const t=this.head;let r,n=!1,o=0,s=-1;for(;this.head<this.data.length&&(r=this.data.charCodeAt(this.head),39!==r&&34!==r||(n?r===o&&(n=!1):(n=!0,o=r,s=this.head)),58!==r||n);)this.head++;let a=this.data.substring(t,this.head);if(s===t&&s>=0&&!n){const e=this.head-1;this.data.charCodeAt(e)===o&&(a=this.data.substring(t+1,e))}return e?this.head=t:this.head++,new i(a)}}t.ArgumentQueue=o,function(e){e.EMPTY=new e("")}(o||(t.ArgumentQueue=o={}))},518:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MarkupStack=t.MarkupParser=void 0;const n=r(324),i=r(612);class o{constructor(){this.events={}}on(e,t){let r=this.events[e],n=!1;void 0===r&&(n=!0,r=[]),r.push(t),n&&(this.events[e]=r)}fireEvent(e){const t=this.events[e.type];if(void 0!==t)for(let r of t)r(e)}}t.MarkupParser=class extends o{constructor(){super(...arguments),this.readingTag=!1,this.escaped=!1,this.buffer=new i.StringBuilder,this.locationCounter=0}parse(e){for(let t=0;t<e.length;t++)try{this.parseChar(e.charCodeAt(t))}finally{this.locationCounter++}}parseChar(e){if(this.escaped)return this.buffer.appendChar(e),void(this.escaped=!1);if(92!==e)if(60===e){if(this.readingTag)return void this.buffer.appendChar(e);this.flush0(!1),this.readingTag=!0}else 62===e?(this.readingTag||this.buffer.appendChar(e),this.flush0(!0)):this.buffer.appendChar(e);else this.escaped=!0}flush(){this.flush0(!1)}flush0(e){if(!this.buffer.isEmpty()){if(e&&this.readingTag){this.readingTag=!1;const e=47===this.buffer.charCodeAt(this.buffer.length-1),t=47===this.buffer.charCodeAt(0);e&&!t&&this.buffer.shrink(1);const r=t?1:0;let i=-1,o=!t;o&&(i=this.buffer.indexOfChar(58),o=-1!==i);const s=this.buffer.toString(r,o?i-r:this.buffer.length-r);i++;const a=o&&i!==this.buffer.length?new n.ArgumentQueue(this.buffer.toString(i)):n.ArgumentQueue.EMPTY;this.fireEvent(t?{type:"end_tag",location:this.locationCounter,name:s}:{type:"start_tag",location:this.locationCounter,name:s,args:a,selfClosing:e})}else{let e=this.buffer.toString();this.readingTag&&(e="<"+e,this.readingTag=!1),this.fireEvent({type:"text",location:this.locationCounter,content:e})}this.buffer.clear()}}};class s{constructor(e=16){this._capacity=e,this._size=0,this._tags=new Array(e),this._data=new Array(e)}get size(){return this._size}push(e,t){if(this._size>=this._capacity){const e=Math.ceil((this._capacity+1)/s.LOAD_FACTOR);this._tags.length=e,this._data.length=e,this._capacity=e}this._tags[this._size]=e,this._data[this._size]=t,this._size++}pop(e,t,r){let n="number"==typeof r?` @ ${r}`:"";for(;this._size>=1;){this._size--;const r=this._tags[this._size];if(r===e)return this._data[this._size];if(t)throw new Error("Expected matching end tag for start tag: "+r+n)}if(t)throw new Error("Expected matching start tag for end tag: "+e+n);return null}peek(){return 0===this._size?null:this._data[this._size-1]}peekTag(){return 0===this._size?null:this._tags[this._size-1]}}t.MarkupStack=s,s.LOAD_FACTOR=.75},436:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ColorsAndPhaseTagResolver=void 0;const n=r(162),i=r(461);t.ColorsAndPhaseTagResolver=class{resolve(e,t,r){let o=[];for(;t.hasNext();)o.push(t.pop().value);let s=o.length,a=0;if(s>2){let e=o[s-1],t=parseFloat(e);isNaN(t)||(t<0&&(t+=1),(t<0||t>1)&&(t=Math.abs((t+1)%2)-1),a=t,s--)}let l=new Array(s);for(let e=0;e<s;e++)l[e]=n.ColorUtil.hex2RGB(i.ColorTagResolver.mapColor(o[e]));let c=s;return c<1&&(c=l.push([255,255,255])),c<2&&(c=l.push([0,0,0])),this.resolveColorsAndPhase(l,c,a)}}},320:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ClickEventTagResolver=void 0;const n=r(648),i=r(753);class o{has(e){return"click"===e}resolve(e,t,r){if(!t.hasNext())return null;const o=t.pop().lowerValue;if(-1===i.ComponentClickEventActions.indexOf(o))return null;if(!t.hasNext())return null;const s={action:o,value:t.pop().value};return n.Tag.modifyProperty("clickEvent",s)}}t.ClickEventTagResolver=o,function(e){e.INSTANCE=new e}(o||(t.ClickEventTagResolver=o={}))},461:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ColorTagResolver=void 0;const n=r(648),i={black:"#000000",dark_blue:"#0000aa",dark_green:"#00aa00",dark_aqua:"#00aaaa",dark_red:"#aa0000",dark_purple:"#aa00aa",gold:"#ffaa00",gray:"#aaaaaa",dark_gray:"#555555",blue:"#5555ff",green:"#55ff55",aqua:"#55ffff",red:"#ff5555",light_purple:"#ff55ff",yellow:"#ffff55",white:"#ffffff"};i.dark_grey=i.dark_gray,i.grey=i.gray;class o{static mapColor(e){if(e.length<1)throw new Error("Color is an empty string");if(35===e.charCodeAt(0))return e;const t=i[e];return void 0===t?"#ffffff":t}has(e){if("color"===e)return!0;if(e in i)return!0;if(7!==e.length)return!1;if(35!==e.charCodeAt(0))return!1;let t;for(let r=1;r<7;r++){if(t=e.charCodeAt(r),t<48||t>102)return!1;if(!(t<=57||97<=t||65<=t&&t<=70))return!1}return!0}resolve(e,t,r){let i=e;if("color"===e){if(!t.hasNext())return null;i=t.pop().lowerValue}return n.Tag.modify((e=>{e.color=i}))}}t.ColorTagResolver=o,function(e){e.INSTANCE=new e}(o||(t.ColorTagResolver=o={}))},654:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DecorationTagResolver=void 0;const n=r(648),i={bold:"bold",b:"bold"},o={italic:"italic",em:"italic",i:"italic"},s={underlined:"underlined",u:"underlined"},a={strikethrough:"strikethrough",st:"strikethrough"},l={obfuscated:"obfuscated",obf:"obfuscated"},c=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},i),o),s),a),l);class u{constructor(e=c){this.map=e}has(e){return!(e.length<1)&&(33===e.charCodeAt(0)?e.substring(1)in this.map:e in this.map)}resolve(e,t,r){let i=!0;if(33===e.charCodeAt(0))i=!1,e=e.substring(1);else{const e=t.peek();null!==e&&(i=e.isTrue())}const o=this.map[e];return void 0===o?null:n.Tag.modify((e=>e.decorate(o,i)))}}t.DecorationTagResolver=u,function(e){e.INSTANCE=new e,e.of=function(t){switch(t){case"bold":return new e(i);case"italic":return new e(o);case"obfuscated":return new e(l);case"strikethrough":return new e(a);case"underlined":return new e(s)}}}(u||(t.DecorationTagResolver=u={}))},957:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FontTagResolver=void 0;const n=r(648);class i{has(e){return"font"===e}resolve(e,t,r){if(!t.hasNext())return null;const i=t.pop().value;return n.Tag.modifyProperty("font",i)}}t.FontTagResolver=i,function(e){e.INSTANCE=new e}(i||(t.FontTagResolver=i={}))},480:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GradientTagResolver=void 0;const n=r(648),i=r(162),o=r(436);class s extends o.ColorsAndPhaseTagResolver{has(e){return"gradient"===e}resolveColorsAndPhase(e,t,r){return t--,n.Tag.modify((n=>{n.setColorByPlacement((n=>{Math.trunc(r)!==r&&(n+=r,r>=0?n>1&&(n%=1):n<0&&(n+=1));const o=n*t,s=Math.floor(o),a=Math.ceil(o);return i.ColorUtil.interpolateRGB(e[s],e[a],o-s)}))}))}}t.GradientTagResolver=s,function(e){e.INSTANCE=new e}(s||(t.GradientTagResolver=s={}))},222:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.HeadTagResolver=void 0;const n=r(648),i=r(753),o=r(123);class s{has(e){return"head"===e}resolve(e,t,r){const s=t.pop();if(!s)return null;const l=t.peek(),c=s.value.trim();let u=!0;l&&(u=!l.value.trim()||"false"!==l.value.trim().toLowerCase());const h=i.Component.empty();if(h.setProperty("hat",u),o.uuidRegex.test(c))h.setProperty("player",{id:a(c)});else if(c.includes("/"))h.setProperty("player",{texture:"minecraft:"+c});else{if(!o.playerNameRegex.test(c))return null;h.setProperty("player",c)}return n.Tag.insert(h)}}function a(e){const t=e.replace(/-/g,""),r=[];for(let e=0;e<32;e+=8){const n=parseInt(t.slice(e,e+8),16);r.push(0|n)}return r}t.HeadTagResolver=s,function(e){e.INSTANCE=new e}(s||(t.HeadTagResolver=s={}))},50:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.HoverEventTagResolver=void 0;const n=r(648),i=r(753);class o{has(e){return"hover"===e}resolve(e,t,r){if(!t.hasNext())return null;const o=t.pop().lowerValue;if(-1===i.ComponentHoverEventActions.indexOf(e))return null;if(!t.hasNext())return null;const s={action:o,contents:t.pop().value};return n.Tag.modifyProperty("hoverEvent",s)}}t.HoverEventTagResolver=o,function(e){e.INSTANCE=new e}(o||(t.HoverEventTagResolver=o={}))},195:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.InsertionTagResolver=void 0;const n=r(648);class i{has(e){return"insertion"===e||"insert"===e}resolve(e,t,r){if(!t.hasNext())return null;const i=t.pop().value;return n.Tag.modifyProperty("insertion",i)}}t.InsertionTagResolver=i,function(e){e.INSTANCE=new e}(i||(t.InsertionTagResolver=i={}))},614:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.KeybindTagResolver=void 0;const n=r(648),i=r(753);class o{has(e){return"key"===e}resolve(e,t,r){if(!t.hasNext())return null;const o=i.Component.empty();return o.setProperty("keybind",t.pop().value),n.Tag.insert(o)}}t.KeybindTagResolver=o,function(e){e.INSTANCE=new e}(o||(t.KeybindTagResolver=o={}))},998:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NewlineTagResolver=void 0;const n=r(648),i=r(753);class o{has(e){return"newline"===e||"br"===e}resolve(e,t,r){return n.Tag.insert(i.Component.text("\n"))}}t.NewlineTagResolver=o,function(e){e.INSTANCE=new e}(o||(t.NewlineTagResolver=o={}))},440:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PrideTagResolver=void 0;const n=r(648),i=r(880),o={pride:["#E50000","#FF8D00","#FFEE00","#028121","#004CFF","#770088"],progress:["#FFFFFF","#FFAFC7","#73D7EE","#613915","#000000","#E50000","#FF8D00","#FFEE00","#028121","#004CFF","#770088"],trans:["#5BCFFB","#F5ABB9","#FFFFFF","#F5ABB9","#5BCFFB"],bi:["#D60270","#9B4F96","#0038A8"],pan:["#FF1C8D","#FFD700","#1AB3FF"],nb:["#FCF431","#FCFCFC","#9D59D2","#282828"],lesbian:["#D62800","#FF9B56","#FFFFFF","#D462A6","#A40062"],ace:["#000000","#A4A4A4","#FFFFFF","#810081"],agender:["#000000","#BABABA","#FFFFFF","#BAF484","#FFFFFF","#BABABA","#000000"],demisexual:["#000000","#FFFFFF","#6E0071","#D3D3D3"],genderqueer:["#B57FDD","#FFFFFF","#49821E"],genderfluid:["#FE76A2","#FFFFFF","#BF12D7","#000000","#303CBE"],intersex:["#FFD800","#7902AA","#FFD800"],aro:["#3BA740","#A8D47A","#FFFFFF","#ABABAB","#000000"],baker:["#CD66FF","#FF6599","#FE0000","#FE9900","#FFFF01","#009900","#0099CB","#350099","#990099"],philly:["#000000","#784F17","#FE0000","#FD8C00","#FFE500","#119F0B","#0644B3","#C22EDC"],queer:["#000000","#9AD9EA","#00A3E8","#B5E51D","#FFFFFF","#FFC90D","#FC6667","#FEAEC9","#000000"],gay:["#078E70","#26CEAA","#98E8C1","#FFFFFF","#7BADE2","#5049CB","#3D1A78"],bigender:["#C479A0","#ECA6CB","#D5C7E8","#FFFFFF","#D5C7E8","#9AC7E8","#6C83CF"],demigender:["#7F7F7F","#C3C3C3","#FBFF74","#FFFFFF","#FBFF74","#C3C3C3","#7F7F7F"]};class s{has(e){return"pride"===e}resolve(e,t,r){let s="pride",a=0;const l=t.peek();if(null!==l){const e=l.value.split("|");e[0]&&(s=e[0]),e[1]&&(a=parseFloat(e[1])||0)}const c=o[s]||o.pride,u=1/(c.length-1);return n.Tag.modify((e=>(e.setColorByPlacement((e=>{const t=e+a,r=Math.min(Math.floor(t/u),c.length-2),n=(t-r*u)/u;return function(e,t,r){const n=Math.round(e.r+(t.r-e.r)*r),o=Math.round(e.g+(t.g-e.g)*r),s=Math.round(e.b+(t.b-e.b)*r);return`#${i.HexUtil.octet2Hex(n)}${i.HexUtil.octet2Hex(o)}${i.HexUtil.octet2Hex(s)}`}(i.HexUtil.hexToRgb(c[r]),i.HexUtil.hexToRgb(c[r+1]),n)})),e)))}}t.PrideTagResolver=s,function(e){e.INSTANCE=new e}(s||(t.PrideTagResolver=s={}))},932:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RainbowTagResolver=void 0;const n=r(648),i=r(880);class o{has(e){return"rainbow"===e}resolve(e,t,r){let o,s=!1,a=0,l=t.peek();return null!==l&&(o=l.value).length>0&&(33===o.charCodeAt(0)?(s=!0,a=parseInt(o.substring(1))):a=parseInt(o),a=isNaN(a)?0:Math.abs(a)%10/10),n.Tag.modify((e=>(e.setColorByPlacement((e=>{e=(e+a)%1,s&&(e=1-e);const t=Math.floor(6*e),r=6*e-t,n=1-r;let o,l,c;switch(t){case 0:o=1,l=r,c=0;break;case 1:o=n,l=1,c=0;break;case 2:o=0,l=1,c=r;break;case 3:o=0,l=n,c=1;break;case 4:o=r,l=0,c=1;break;case 5:o=1,l=0,c=n}return"#"+i.HexUtil.octet2Hex(Math.round(255*o))+i.HexUtil.octet2Hex(Math.round(255*l))+i.HexUtil.octet2Hex(Math.round(255*c))})),e)))}}t.RainbowTagResolver=o,function(e){e.INSTANCE=new e}(o||(t.RainbowTagResolver=o={}))},325:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ResetTagResolver=void 0;const n=r(648);class i{has(e){return"reset"===e}resolve(e,t,r){return n.Tag.directive(n.TagDirective.RESET)}}t.ResetTagResolver=i,function(e){e.INSTANCE=new e}(i||(t.ResetTagResolver=i={}))},512:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ScoreTagResolver=void 0;const n=r(648),i=r(753);class o{has(e){return"score"===e}resolve(e,t,r){if(!t.hasNext())return null;const o=t.pop().value;if(!t.hasNext())return null;const s={name:o,objective:t.pop().value},a=i.Component.empty();return a.setProperty("score",s),n.Tag.insert(a)}}t.ScoreTagResolver=o,function(e){e.INSTANCE=new e}(o||(t.ScoreTagResolver=o={}))},593:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SelectorTagResolver=void 0;const n=r(648);class i{has(e){return"selector"===e||"sel"===e}resolve(e,t,r){if(!t.hasNext())return null;const i=t.pop().value;return n.Tag.modifyProperty("selector",i)}}t.SelectorTagResolver=i,function(e){e.INSTANCE=new e}(i||(t.SelectorTagResolver=i={}))},879:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TransitionTagResolver=void 0;const n=r(648),i=r(162),o=r(436);class s extends o.ColorsAndPhaseTagResolver{has(e){return"transition"===e}resolveColorsAndPhase(e,t,r){let o;if(r<0&&r++,1===Math.abs(r))o=i.ColorUtil.rgb2Hex(e[t-1]);else{const n=r*(t-1),s=Math.floor(n),a=n-s;o=i.ColorUtil.interpolateRGB(e[s],e[s+1],a)}return n.Tag.modify((e=>{e.color=o}))}}t.TransitionTagResolver=s,function(e){e.INSTANCE=new e}(s||(t.TransitionTagResolver=s={}))},771:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TranslatableTagResolver=void 0;const n=r(648),i=r(753);class o{has(e){return"lang"===e||"tr"===e||"translate"===e}resolve(e,t,r){if(!t.hasNext())return null;const o=t.pop().value;let s=[];for(;t.hasNext();)s.push(t.pop().value);const a=i.Component.empty();return a.setProperty("translate",o),s.length>0&&a.setProperty("with",s),n.Tag.insert(a)}}t.TranslatableTagResolver=o,function(e){e.INSTANCE=new e}(o||(t.TranslatableTagResolver=o={}))},648:(e,t)=>{var r,n,i,o;Object.defineProperty(t,"__esModule",{value:!0}),t.TagResolver=t.Tag=t.TagDirective=t.TagType=void 0,function(e){e[e.INSERT=0]="INSERT",e[e.MODIFY=1]="MODIFY",e[e.DIRECTIVE=2]="DIRECTIVE"}(r||(t.TagType=r={})),function(e){e[e.RESET=0]="RESET"}(n||(t.TagDirective=n={})),function(e){function t(e){return{type:r.MODIFY,apply(t){const r=e(t);return"object"==typeof r&&null!==r?r:t}}}e.insert=function(e,t=!1,n=!t){return{type:r.INSERT,selfClosing:n,allowsChildren:t,value:e}},e.modify=t,e.modifyProperty=function(e,r){return t((t=>{t.setProperty(e,r)}))},e.directive=function(e){return{type:r.DIRECTIVE,directive:e}}}(i||(t.Tag=i={})),function(e){class t{constructor(){this._resolvers=[]}resolver(e){return this._resolvers.push(e),this}resolvers(...e){return this._resolvers.push(...e),this}tag(e,t){const r="function"!=typeof t&&"type"in t&&"number"==typeof t.type,n={has:t=>e===t,resolve:(n,i,o)=>e!==n?null:r?t:t(i,o)};return this._resolvers.push(n),this}build(){const{_resolvers:e}=this;return{has(t){for(let r of e)if(r.has(t))return!0;return!1},resolve(t,r,n){let i=null;for(let o of e)if(o.has(t)&&(i=o.resolve(t,r,n),null!==i))return i;return i}}}}function r(){return new t}e.Builder=t,e.builder=r,e.empty=function(){return r().build()}}(o||(t.TagResolver=o={}))},126:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StandardTags=void 0;const n=r(648),i=r(320),o=r(461),s=r(654),a=r(957),l=r(480),c=r(50),u=r(195),h=r(614),d=r(998),p=r(932),g=r(440),A=r(325),f=r(512),v=r(593),y=r(879),C=r(771),m=r(222);t.StandardTags=new class{clickEvent(){return i.ClickEventTagResolver.INSTANCE}color(){return o.ColorTagResolver.INSTANCE}decorations(e){return void 0!==e?s.DecorationTagResolver.of(e):s.DecorationTagResolver.INSTANCE}font(){return a.FontTagResolver.INSTANCE}gradient(){return l.GradientTagResolver.INSTANCE}hoverEvent(){return c.HoverEventTagResolver.INSTANCE}insertion(){return u.InsertionTagResolver.INSTANCE}keybind(){return h.KeybindTagResolver.INSTANCE}nbt(){throw new Error("Not implemented")}newline(){return d.NewlineTagResolver.INSTANCE}rainbow(){return p.RainbowTagResolver.INSTANCE}pride(){return g.PrideTagResolver.INSTANCE}reset(){return A.ResetTagResolver.INSTANCE}score(){return f.ScoreTagResolver.INSTANCE}selector(){return v.SelectorTagResolver.INSTANCE}transition(){return y.TransitionTagResolver.INSTANCE}translatable(){return C.TranslatableTagResolver.INSTANCE}head(){return m.HeadTagResolver.INSTANCE}builder(){return n.TagResolver.builder()}all(){return this.builder().resolvers(this.clickEvent(),this.color(),this.decorations(),this.font(),this.gradient(),this.hoverEvent(),this.insertion(),this.keybind(),this.newline(),this.rainbow(),this.pride(),this.reset(),this.score(),this.selector(),this.transition(),this.translatable(),this.head()).build()}defaults(){return this.builder().resolvers(this.clickEvent(),this.color(),this.decorations(),this.gradient(),this.hoverEvent(),this.insertion(),this.keybind(),this.newline(),this.rainbow(),this.pride(),this.reset(),this.transition(),this.translatable(),this.head()).build()}}},162:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ColorUtil=void 0;const n=r(880);var i;!function(e){function t(e){return"#"+n.HexUtil.octet2Hex(e[0])+n.HexUtil.octet2Hex(e[1])+n.HexUtil.octet2Hex(e[2])}e.hex2RGB=function(e){let t=35===e.charCodeAt(0)?1:0;return[n.HexUtil.hex2Octet(e,t),n.HexUtil.hex2Octet(e,t+2),n.HexUtil.hex2Octet(e,t+4)]},e.rgb2Hex=t,e.interpolateRGB=function(e,r,n){const i=1-n;return t([0,1,2].map((function(t){return Math.round(e[t]*i+r[t]*n)})))}}(i||(t.ColorUtil=i={}))},880:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.HexUtil=void 0,function(e){function t(e){return e<10?48+e:55+e}function r(e){return e<58?e-48:e<71?e-55:e-87}function n(e,t=0){return r(e.charCodeAt(t))<<4|r(e.charCodeAt(t+1))}e.nibble2HexCharCode=t,e.octet2Hex=function(e){return String.fromCharCode(t(e>>4),t(15&e))},e.hexCharCode2Nibble=r,e.hex2Octet=n,e.hexToRgb=function(e){return 35===e.charCodeAt(0)&&(e=e.substring(1)),{r:n(e,0),g:n(e,2),b:n(e,4)}}}(r||(t.HexUtil=r={}))},241:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Optional=void 0;class r{static of(e){if(null===e)throw new Error("Cannot wrap null in Optional");return new r(e,!0)}static ofNullable(e){return null===e?new r(null,!1):new r(e,!0)}static empty(){return new r(null,!1)}static ofNaNable(e){return isNaN(e)?this.empty():this.of(e)}constructor(e,t){this.value=e,this.isPresent=!0}get(){if(!this.isPresent)throw new Error("Cannot get value of empty Optional");return this.value}orElse(e){return this.isPresent?this.value:e}}t.Optional=r},806:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.renderDefaultKeybindHTML=function(e,t){var r,i,o;const s=n.KEYBIND_TO_TRANSLATABLE[e];return s?null!==(i=null!==(r=t.translations[s])&&void 0!==r?r:n.KEYBIND_TO_LITERAL[e])&&void 0!==i?i:e:null!==(o=n.KEYBIND_TO_LITERAL[e])&&void 0!==o?o:e};const n=r(56)},695:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getHeadElement=function(e,t=!0,r=16){const s=document.createElement("img");return s.style.width="1em",s.style.height="1em",s.style.imageRendering="pixelated",i.uuidRegex.test(e)?g(e,s,t,r):i.playerNameRegex.test(e)?function(e,t,r,s){if(o.VzgeProvider.supportsUsername)return void g(e,t,r,s);const a=c.get(e);if(void 0!==a)return void(""===a?t.src=i.notFoundSprite:g(a,t,r,s));t.src=i.spinnerAnimation,u.has(e)&&clearTimeout(u.get(e));const l=window.setTimeout((()=>{p((()=>n(this,void 0,void 0,(function*(){try{const o=yield function(e){return n(this,arguments,void 0,(function*(e,t=2,r=300){for(let n=0;n<=t;n++)try{return yield fetch(e,{cache:"force-cache"})}catch(e){if(n===t)throw e;yield new Promise((e=>setTimeout(e,r*Math.pow(2,n))))}throw new Error("Unreachable")}))}(`${f}${e}`);if(404===o.status)return c.set(e,""),void(t.src=i.notFoundSprite);const a=(yield o.json()).uuid;c.set(e,a),g(a,t,r,s)}catch(r){console.warn(`[MiniMessage Renderer] Failed to resolve username ${e}`,r),t.src=i.errorSprite}}))))}),300);u.set(e,l)}(e,s,t,r):e.includes("/")||e.startsWith("minecraft:")?s.src=i.textureSprite:s.src=i.errorSprite,s},t.intArrayToUUID=function(e){if(4!==e.length)return"";const t=new Uint8Array(16),r=new DataView(t.buffer);e.forEach(((e,t)=>r.setInt32(4*t,e)));const n=[...t].map((e=>e.toString(16).padStart(2,"0"))).join("");return n.slice(0,8)+"-"+n.slice(8,12)+"-"+n.slice(12,16)+"-"+n.slice(16,20)+"-"+n.slice(20)};const i=r(123),o=r(165),s=[o.VzgeProvider,o.McHeadsProvider],a=12e5,l=new Map,c=new Map,u=new Map,h=[];let d=!1;function p(e){h.push(e),function(){n(this,void 0,void 0,(function*(){if(!d&&0!==h.length){for(d=!0;h.length>0;){const e=h.shift();yield e(),yield new Promise((e=>setTimeout(e,200)))}d=!1}}))}()}function g(e,t,r,o){const s=`${e}:${r}:${o}`,c=l.get(s);if(c&&Date.now()-c.timestamp<a)return void(t.src="cached"===c.state?c.file:"error"===c.state?i.errorSprite:i.spinnerAnimation);l.set(s,{state:"loading",file:i.spinnerAnimation,timestamp:Date.now()}),t.src=i.spinnerAnimation,u.has(s)&&clearTimeout(u.get(s));const h=window.setTimeout((()=>{p((()=>n(this,void 0,void 0,(function*(){A(e,t,r,o,s,0)}))))}),300);u.set(s,h)}function A(e,t,r,n,o,a){if(a>=s.length)return l.set(o,{state:"error",file:i.errorSprite,timestamp:Date.now()}),void(t.src=i.errorSprite);const c=s[a];if(!c.supportsUsername&&!i.uuidRegex.test(e))return void A(e,t,r,n,o,a+1);const u=c.getUrl(e,n,r),h=new Image;h.decoding="async",h.loading="eager",h.style.imageRendering="pixelated",h.onload=()=>{l.set(o,{state:"cached",file:u,timestamp:Date.now()}),t.src=u,console.info(`[MiniMessage Renderer] Loaded head via ${c.name}`)},h.onerror=()=>{console.warn(`[MiniMessage Renderer] ${c.name} failed, trying fallback`),A(e,t,r,n,o,a+1)},h.src=u}const f="https://api.ashcon.app/mojang/v2/user/"},612:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StringBuilder=void 0;class r{constructor(e=16){if(e<0)throw new Error("Capacity must be positive");this._u16=new Uint16Array(e),this._initialCapacity=e,this._capacity=e,this._length=0}get length(){return this._length}clear(){this._length=0,this._capacity>this._initialCapacity&&this.setCapacity(this._initialCapacity,!1)}isEmpty(){return 0===this._length}provision(e){let t=this._length+e;t<=this._capacity||(t=Math.ceil((t+1)/r.LOAD_FACTOR),this.setCapacity(t,!0))}setCapacity(e,t){let r=this._u16.buffer;if("transfer"in r)r=r.transfer(e<<1),this._u16=new Uint16Array(r);else{const r=new Uint16Array(e);t&&r.set(this._u16,0),this._u16=r}this._capacity=e}append(e){return"string"==typeof e?this.appendString(e):e instanceof r?this.appendStringBuilder(e):this.appendString(e.toString()),this}appendLeftAngleBracket(){return this.appendChar(60)}appendRightAngleBracket(){return this.appendChar(62)}appendSpace(){return this.appendChar(32)}appendSemicolon(){return this.appendChar(59)}appendChar(e){return this.provision(1),this._u16[this._length++]=e,this}appendString(e){this.provision(e.length);for(let t=0;t<e.length;t++)this._u16[this._length++]=e.charCodeAt(t);return this}appendStringBuilder(e){return this.provision(e._length),this._u16.set(e._u16.subarray(0,e._length),this._length),this._length+=e._length,this}charCodeAt(e){if(e<0||e>=this._length)throw new Error(`Index ${e} out of bounds for length ${this._length}`);return this._u16[e]}indexOf(e){const t=e.length;if(0===t)return-1;let r=0;for(let n=0;n<this._length;n++)if(e.charCodeAt(r)===this._u16[n]){if(++r===t)return n-t+1}else r=0;return-1}indexOfChar(e){for(let t=0;t<this._length;t++)if(e===this._u16[t])return t;return-1}shrink(e){this._length=Math.max(this._length-e,0)}toString(e,t){if(0===arguments.length)return this.toString0(0,this._length);if(void 0===e)e=0;else{if(e<0)throw new Error("Offset cannot be negative");if(e>=this._length)throw new Error(`Index ${e} out of bounds for length ${this._length}`)}if(void 0===t){if((t=this._length-e)<0)throw new Error(`Offset ${e} out of bounds for length ${this._length}`)}else{if(t<0)throw new Error("Length cannot be negative");if(t>this._length-e)throw new Error(`Index ${t+e-1} out of bounds for length ${this._length}`)}return this.toString0(e,t)}toString0(e,t){let r="";const n=Math.min(t,255),i=new Array(n);let o,s=0,a=0;for(;a<t;)o=this._u16[a+++e],o>=55296&&o<=57343&&a<t&&(o=(o-55296<<10)+this._u16[a+++e]+9216),i[s++]=o,s===n&&(r+=String.fromCodePoint.apply(null,i),s=0);return 0!==s&&(i.length=s,r+=String.fromCodePoint.apply(null,i)),r}}t.StringBuilder=r,r.LOAD_FACTOR=.75}},t={};return function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,r),o.exports}(156)})()));